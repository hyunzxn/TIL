# 운영체제 시작하기

## 1. 들어가며

CS 공부를 해보려고 합니다. 그 중에서 운영체제(OS)에 관해 공부한 것을 이제 차근차근 정리를 해보려고 합니다. 모든 자료와 정보는 [개발자를 위한 컴퓨터공학 1: 혼자 공부하는 컴퓨터구조 + 운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard) 를 참고했습니다. 이번 글에서는 운영체제를 공부하기 앞서 간단하게 운영체제의 개념과 앞으로 어떤 것을 배우게 될 지를 정리해보고자 합니다.

&nbsp;

## 2. 운영체제의 개념

### 운영체제(Operating System)란?

컴퓨터를 사용하면 다양한 프로그램을 사용하게 됩니다. 웹 브라우저, 메신저, IDE 등등 말이죠. 운영체제는 체제(System)라는 이름 때문에 거창한 개념인 것 같지만 그렇지 않습니다. 운영체제 역시 앞서 말한 프로그램들과 같은 프로그램의 일종입니다. 

모든 프로그램은 목적이 있습니다. 예를 들어 메신저 프로그램은 친구와 메시지를 주고 받는 용도로 사용하게 됩니다. 그렇다면 운영체제의 목적은 무엇일까요? 운영체제의 목적을 간단하게 정의해보자면 다음과 같습니다. 

> 자원을 적절하게 할당하고 프로그램의 실행을 돕는다.

여기서 의미하는 자원은 CPU, 메모리 등 컴퓨터의 하드웨어적인 부분을 의미합니다. 즉, 운영체제는 **컴퓨터에서 실행되는 프로그램들을 관리해주고 컴퓨터 자원을 적절하게 사용하게 관리를 돕는 프로그램들을 위한 프로그램**입니다.

이러한 운영체제의 역할을 도식화 한 모습은 다음과 같습니다.

<img width="700" alt="운영체제 도식1" src="https://github.com/hyunzxn/TIL/assets/100478841/7a6cb08b-2450-4fa8-965a-afae2ccd6714">

&nbsp;

### 커널(Kernel)

운영체제의 정의에 대해서 알아보았으니 운영체제를 공부할 때 필수적으로 등장하는 **커널**에 대해서 알아보도록 하겠습니다. 

컴퓨터에서 실행 중인 모든 프로그램은 메모리에 적재됩니다. 운영체제 역시 프로그램이기 때문에 메모리에 적재됩니다. 그런데 운영체제는 일반적인 프로그램과 다르기 때문에 조금 특수한 영역에 적재됩니다. 컴퓨터의 메모리 영역을 2가지로 구분할 수 있는데요 다음과 같습니다.

1. 사용자 영역: 일반 유저가 사용하는 프로그램(응용 프로그램)이 적재되는 영역
2. 커널 영역: 운영체제가 적재되는 영역

그렇다면 커널이란 무엇일까요? 커널에 대해서 좀 더 자세히 알아보도록 하겠습니다.

&nbsp;

커널을 간단하게 정의해보자면 다음과 같습니다.

> 운영체제의 핵심 서비스를 담당하는 부분

핵심 서비스라는 단어를 통해 운영체제는 다양한 서비스를 제공하는데 그 중에 핵심 서비스가 있는 것을 유추해볼 수 있습니다. 예를 들어 스마트폰에 들어가는 대표적인 운영체제인 iOS와 Android를 보면 각각의 운영체제가 제공하는 기능은 다릅니다. 그러나 공통적으로 제공하는 핵심적인 기능이 있습니다. 두 가지 운영체제 모두 핸드폰에 들어가는 운영체제이기 때문에 전화 기능을 제공합니다. 이렇게 운영체제는 운영체제별로 다른 기능을 제공하지만 모든 운영체제가 공통적으로 제공하는 핵심적인 기능이 있는데요, 이런 기능을 담당하는 것이 커널입니다.

그리고 운영체제에는 속하지만 커널에는 속하지 않는 기능들이 있는데요. 이런 기능의 대표적인 예시로는 User Interface(UI)가 있습니다. 이런 개념을 토대로 커널을 도식화 해보면 다음과 같습니다.

<img width="500" alt="운영체제 도식2" src="https://github.com/hyunzxn/TIL/assets/100478841/7df8cf69-603b-4bee-9066-b9553738bd90">

&nbsp;

## 3. 이중모드와 시스템 호출

사용자 영역에서 실행되는 모든 응용 프로그램은 자원에 직접 접근하는 것이 불가능합니다. 따라서 꼭 운영체제의 도움을 받아야 하는데요. 어떤 식으로 운영체제의 도움을 받을 수 있을까요? 이 때 등장하는 개념이 **이중모드와 시스템 호출**입니다.

컴퓨터에서 명령어를 처리하는 CPU는 두 가지 모드(이중모드)로 명령어를 실행합니다. 

1. 사용자 모드: 운영체제의 도움 없이 실행이 가능한 모드 → 자원에 접근하는 것이 불가능
2. 커널 모드: 운영체제의 도움을 받아 실행하는 모드 → 자원에 접근하는 것이 가능

응용 프로그램의 실행 흐름 중 자원에 접근하기 위해 운영체제의 도움이 필요할 때 소프트웨어 인터럽트 방식으로 커널 모드로 전환하는 것을 **시스템 호출**이라고 합니다. 이러한 시스템 호출은 각 운영체제마다 정해져 있습니다. 시스템 호출을 도식화 해보면 다음과 같습니다.

<img width="677" alt="도식3" src="https://github.com/hyunzxn/TIL/assets/100478841/9f565277-0437-4685-bcff-26ef3b83e96d">

시간 흐름에 따라 응용 프로그램 상에서 시스템 호출이 발생하면 커널 영역으로 넘어가서 커널 영역에서 필요한 작업을 처리한 후 다시 응용 프로그램으로 넘어가고 또 시스템 호출이 발생하면 다시 커널로 넘어오는 식으로 프로그램 실행 시 모드가 계속 전환되면서 프로그램이 실행되는 것을 표현한 그림입니다.

&nbsp;

## 4. 운영체제가 제공하는 핵심 서비스

운영체제가 제공하는 여러 서비스 중 핵심 서비스는 3가지가 있습니다.

1. Process 관리
2. 자원 접근 및 할당
3. 파일 시스템 관리

간단하게 각각이 어떤 것이고 앞으로 어떤 것을 배울지에 대해 정리해보면 다음과 같습니다.

&nbsp;

### 4.1 Process 관리

→ 관련 추후 학습 개념: 프로세스와 스레드, 프로세스 동기화, 교착 상태 등

**프로세스**란 메모리에 적재돼서 실행되는 프로그램을 의미합니다. 지금까지 언급했던 프로그램들이 사실은 프로세스였던 것입니다. 운영체제에 따라 태스크라고 부르는 경우도 있습니다. 수많은 프로세스들이 컴퓨터에선 동시에 실행되고 있는데요, 사실 동시라는 관점은 사람이 인식하지 못 할 정도의 빠르기로 프로세스가 순차적으로 실행되는 것으로도 이해할 수 있습니다. 

수많은 프로세스들이 실행되고 있기 때문에 이러한 프로세스들이 문제없이 잘 실행되게 하기 위한 운영체제의 관리가 중요합니다.

&nbsp;

### 4.2 자원접근 및 할당

이것과 관련하여 추후 학습할 내용은 다음과 같습니다.

- CPU: CPU 스케줄링 → 어떤 프로세스를 먼저, 얼마나, 오래 실행할 것인지?
- 메모리: 페이징, 스와핑
- 입출력 장치: 하드웨어 인터셉트

&nbsp;

### 4.3 파일 시스템 관리

파일과 폴더에 대해서 배우게 됩니다. 

- 관련된 정보를 파일이라는 단위로 저장 장치에 보관
- 파일들을 묶어 폴더(디렉토리) 단위로 저장 장치에 보관

&nbsp;

# 5. 마치며

간단하게 운영체제의 시작에 대해서 정리해봤습니다. 운영체제가 프로그램이라는 것과 커널이라는 것에 대해서 새로 공부할 수 있어서 도움이 됐던 것 같습니다. 이제 순차적으로 운영체제와 관련하여 학습한 것을 정리하며 올려보도록 하겠습니다.





